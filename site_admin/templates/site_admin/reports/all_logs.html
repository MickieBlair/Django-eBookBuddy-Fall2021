{% extends 'site_admin/admin_base.html' %}

{% load static %}


{% block content %}

<div class="mt-1">
{% include 'site_admin/snippets/buttons.html' %}
{% include 'site_admin/snippets/django_messages_snippet.html' %}
</div>


<div class="border-bottom">
  <h2 class="pt-2 ">All Logs Report - {{semester}}</h2>
</div>
<div class="row m-0 pt-2 border-bottom bg-light w-100">
<!--   <div class="col d-flex justify-content-left align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Query Count:</h6>
          </div>
          <div>
            <h6 class="pt-0">{{display_logs.count}}</h6>
          </div>      
    </div>    
  </div> -->
	<div class="col d-flex justify-content-left align-items-center">
		<div class="w-100 text-center">
			<div>
	          <h6 class="pt-0">Total Logs:</h6>
	        </div>
	        <div>
	          <h6 class="pt-0">{{logs.count}}</h6>
	        </div>			
		</div>		
	</div>
  <div class="col d-flex justify-content-left align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Processed Logs:</h6>
          </div>
          <div>
            <h6 class="pt-0">{{processed_logs_count}}</h6>
          </div>      
    </div>    
  </div>
<!--    <div class="col d-flex justify-content-center align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Missing Time:</h6>
          </div>
          <div>
            <h6 class="pt-0">
            {{all_missing_time_count}}
          </h6>
          </div>      
    </div>    
  </div> -->

<!--      <div class="col d-flex justify-content-center align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Good Missing Time:</h6>
          </div>
          <div>
            <h6 class="pt-0">
            {{good_missing_time_count}}
          </h6>
          </div>      
    </div>    
  </div> -->
<!--   <div class="col d-flex justify-content-center align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Day Good:</h6>
          </div>
          <div>
            <h6 class="pt-0">{{day_is_good_count}}</h6>
          </div>      
    </div>    
  </div> -->
<!-- 	<div class="col d-flex justify-content-center align-items-center">
		<div class="w-100 text-center">
			<div>
	          <h6 class="pt-0">During Jitsi:</h6>
	        </div>
	        <div>
	          <h6 class="pt-0">{{during_jitsi_count}}</h6>
	        </div>			
		</div>		
	</div> -->

<!--   <div class="col d-flex justify-content-center align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">In Good:</h6>
          </div>
          <div>
            <h6 class="pt-0">
            {{in_good_count}}
          </h6>
          </div>      
    </div>    
  </div> -->

<!--     <div class="col d-flex justify-content-center align-items-center">
    <div class="w-100 text-center">
      <div>
            <h6 class="pt-0">Out Good:</h6>
          </div>
          <div>
            <h6 class="pt-0">
            {{out_good_count}}
          </h6>
          </div>      
    </div>    
  </div> -->
<!-- 	<div class="col text-center d-flex justify-content-right align-items-center"> 
		<div class="w-100 text-center">
			<a class="btn btn-warning" href="url 'site_admin:by_day_attendance_csv' day.id">Download Report</a>
		</div> 
    </div> -->
</div>

<div class="table-responsive pt-1">
<table class="table table-striped table-sm align-middle">
  <thead>
    <tr>
      <th class="">ID</th>
      <th class="">Processed</th>
      <th class="">Count </th>
      <th>Date</th>
      <th class="">User</th>
      <th class="">Role</th>
      <th class="">Room</th>
      <!-- <th class="text-center">Room Good</th> -->
      <th class="text-center">Day</th>
      <!-- <th class="text-center">Day Good</th> -->
      <!-- <th class="text-center">Needs Attention</th> -->
      <!-- <th class="text-center">During Jitsi Open</th> -->
      <!-- <th class="text-center">In Good</th> -->
      
       <th class="text-center">Time In</th>
        <th class="text-center">Time Out</th>
        <!-- <th class="text-center">Out Good</th> -->
        <th class="text-center"><div>Duration</div></th>

    <!--   <th class="text-center"><div>Session</div><div>Slot</div> </th>
       <th class="text-center">Logs</th>
       <th class="text-center">Status</th>
       <th class="text-center"><div>Pending</div><div>Minutes</div> </th>
       <th class="text-center"><div>Breakout</div><div>Minutes</div> </th>
      <th class="text-center"><div>Total</div><div>Minutes</div> </th>
      <th class="text-center"><div>Temp</div><div>Match</div> </th>
      <th class="text-center"><div>Temp</div><div>Buddies</div> </th> -->
    </tr>
  </thead>
  <tbody>
  	{% for log in display_logs %}
    <tr>
      <td>
        {{log.id}}       
      </td>
      <td class="{%if log.processed_completely %} bg-success {% else %} bg-danger {% endif %}">
        {{log.processed_completely}}       
      </td>
      <td class="{%if log.count_in_total %} bg-success {% else %} bg-danger {% endif %}">
        {{log.count_in_total}}       
      </td>
      <td>
        {{log.date}}       
      </td>
      <td>
        {{log.user.full_name}}       
      </td>
      <td>
        {{log.user.role}}       
      </td>
      <td>
        {{log.room}}    
      </td>
<!--       <td class="text-center">
        {{log.room_good}}       
      </td> -->
      <td class="text-center {%if log.day_of_week == 'Monday' %} bg_info {% endif %}">
        {{log.day_of_week}}       
      </td>
<!--       <td class="text-center">
        {{log.day_good}}       
      </td> -->
     <!--  <td class="text-center">
        {{log.needs_attention}}       
      </td> -->
<!--       <td class="text-center {%if log.during_jitsi_open %} bg-success {% else %} bg-danger {% endif %}">
        {{log.during_jitsi_open}}       
      </td> -->
<!--       <td class="text-center {%if log.time_in_jitsi_open %} bg-success {% else %} bg-danger {% endif %}">
        {{log.time_in_jitsi_open}}       
      </td> -->
 
      <td class="text-center">
        {{log.local_time_in_only}}       
      </td>
      <td class="text-center">

        {{log.local_time_out_only}}       
        
<!--       </td>
           <td class="text-center  {%if log.time_out_jitsi_open %} bg-success {% else %} bg-danger {% endif %}">
        {{log.time_out_jitsi_open}}       
      </td> -->
      <td class="text-center">
        <div>
          {{log.minute_str}} 
        </div>
      <!--   <div>
          {{log.duration_seconds}} s
        </div> -->
             
      </td>
           
        
    </tr>
    {% endfor %}

  </tbody>
</table>
</div>



{% endblock content %}

